<!--
  Generated template for the Conversation page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.

-->
<ion-header>

    <ion-navbar>
        <ion-title>{{ this.getTitle() }}</ion-title>
    </ion-navbar>
    <div class="conversation-header">
        <div class="title-name">
            {{ this.getUserName() }}
        </div>
        <div class="user-profile-picture-container" *ngIf="this.getUserImage()">
            <img class="user-profile-picture" src="{{ this.getUserImage() }}"/>
        </div>
    </div>
</ion-header>

<ion-content padding class="block scrollable">
    <ion-list>
        <ion-item *ngFor="let message of this.discussionService.currentDiscussion.messages">
            <div class="message {{isUsersMessage(message)}}">
                <span class="message_name">{{ this.discussionService.getSenderName(message) }}</span> <br/>
                <span class="message_content">{{ message.textMessage }}</span>
            </div>
        </ion-item>
    </ion-list>
</ion-content>

<ion-footer class="conversation-footer block dbg">
    <ion-item id="send_message">
        <ion-input type="text" placeholder="Votre message" [(ngModel)]="currentMessage">
        </ion-input>
    </ion-item>
    <button id="send_button" (click)="send()" ion-button>
        Envoyer
    </button>
</ion-footer>

